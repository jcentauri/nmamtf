<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>

.audioPlayer{
  display: hide;
}



.audioIcon{
 display: none;
}


#noOfTimesDiv{
  display: none;
}


#durationSetDiv{

 display: none;
}


#hideBtn{
 display: none;
}

#toggle{
 display:block;
}

#toggleV{
 display:block;
}

#toggleU{
 display:block;
}


</style>
</head>
<body>


<div class="row">
  <div class="column" style="background-color:#FFF;">
<h2>Namo Amituofo</h2>


<button id="notBtn" onclick="noOfTimesDisplay()">No.Of Times</button>

<button onclick="durationSetDisplay()">Duration</button> 

<div id="hideBtn">
<button type="button" class="loopall" id="btnPlaylistloop" onclick="playlistloop()"><span>&#8734;</span> Loop</button>
<button type="button" onclick="pause()">Pause</button>
</div>

<button type="button" class="btnPlaylist" id="btnToggle" onclick="myToggle()"><span>&#8734;</span> Loop</button>

<button type="button" onclick="stop()">Reset</button>

<div id="toggle">

</div>





<div id="noOfTimesDiv">
<p> No. of Times:</p>
 <input type="text" id="times" name="times">
<button type="button" onclick="myFunction()">Set</button>
<button type="button" onclick="timesPlay()">Start</button>

<button type="button" class="btnPlaylist" id="btnToggleV" onclick="myToggleV()">Pause</button>


<p id="demo"></p>
<p id="demo1"></p>
<p id="demo2"></p>
<p id="demo3"></p>


</div>

<div id="toggleV">

</div>



<div id="durationSetDiv">
<p> Duration (mins.):</p>
<input type="text" id="time" name="time">
<button type="button" onclick="timeFunction()">Set</button>

<button onclick="startTimer()">Start</button>
<button type="button" class="btnPlaylist" id="btnToggleU" onclick="myToggleU()">Pause</button>

<p id="demo4"></p>
<p id="secondsPassed"></p>
<p id="demo5"></p>
</div>





<div id="toggleU">
</div>


<br></br>






  </div>
  <div class="column" style="background-color:#FFF;">
</br>  
</br>
</br>
</br>
</br>
<div class="audioIcon">
<audio class="audioPlayer" id="myAudio"  controls style="width:600px">
//<source src="https://sites.google.com/site/themahabodhipractice/namoamitufo-chanting/NMAMTF-ZJ-X1.mp3" type="audio/mp3">
<source src="NMAMTF-ZJ-X1.mp3" type="audio/mp3">
</div>

</audio>
 
  </div>
</div>





<script>

  var a = document.getElementById("noOfTimesDiv");
  var b = document.getElementById("durationSetDiv");

function noOfTimesDisplay(){

    document.getElementById("times").value="";
    document.getElementById("time").value="";
    document.getElementById("demo").innerHTML ="";
    document.getElementById("demo1").innerHTML ="";
    document.getElementById("demo2").innerHTML ="";
    document.getElementById("demo3").innerHTML ="";
    document.getElementById("demo4").innerHTML ="";
    document.getElementById("demo5").innerHTML ="";
    document.getElementById("secondsPassed").innerHTML ="";

   var a = document.getElementById("noOfTimesDiv");
  var b = document.getElementById("durationSetDiv");
  if (a.style.display === "block") {
    a.style.display = "none";
    b.style.display = "none";

  } else {
    a.style.display = "block";
    b.style.display = "none";
  }

}


function durationSetDisplay() {

    document.getElementById("times").value="";
    document.getElementById("time").value="";
    document.getElementById("demo").innerHTML ="";
    document.getElementById("demo1").innerHTML ="";
    document.getElementById("demo2").innerHTML ="";
    document.getElementById("demo3").innerHTML ="";
    document.getElementById("demo4").innerHTML ="";
    document.getElementById("demo5").innerHTML ="";
    document.getElementById("secondsPassed").innerHTML ="";


  var a = document.getElementById("noOfTimesDiv");
  var b = document.getElementById("durationSetDiv");
  if (b.style.display === "block") {

    b.style.display = "none";
    a.style.display = "none";



  } else {
    b.style.display = "block";
    a.style.display = "none";

  }
}





var aud = document.getElementById("myAudio");

function myFunction(){
    
    
    var x= document.getElementById("times").value;
    document.getElementById("demo").innerHTML = "Recitation is set to " + x + " times.";
  
    var a=0;

    aud.onended = function() {
       a=a+1;

	if (a==x)
	{
	document.getElementById("times").value = "";
	document.getElementById("demo2").innerHTML = x + " time(s) completed."
 
	}

       if(a<x)
       {
        aud.play();
     document.getElementById("demo1").innerHTML = 'Count : ' + (1+a) ;
        }


    };




};




function timesPlay(){
  document.getElementById("demo2").innerHTML="";
  document.getElementById("demo3").innerHTML="";
   var x= document.getElementById("times").value;
 if(x>0){
      aud.play();
 }



};


function pause(){
	aud.pause();

};




function stop(){

    document.getElementById("times").value="";
    document.getElementById("time").value="";
    document.getElementById("demo").innerHTML ="";
    document.getElementById("demo1").innerHTML ="";
    document.getElementById("demo2").innerHTML ="";
    document.getElementById("demo3").innerHTML ="";
    document.getElementById("demo4").innerHTML ="";
    document.getElementById("demo5").innerHTML ="";
    document.getElementById("secondsPassed").innerHTML ="";
    a.style.display = "none";
    b.style.display = "none";

    aud.pause();

    aud.src="NMAMTF-ZJ-X1.mp3";


};


function playlistloop(){

    document.getElementById("times").value="";
    document.getElementById("time").value="";
    document.getElementById("demo").innerHTML ="";
    document.getElementById("demo1").innerHTML ="";
    document.getElementById("demo2").innerHTML ="";
    document.getElementById("demo3").innerHTML ="";

    a.style.display = "none";
    b.style.display = "none";

  aud.play();

  var c=0;

    aud.onended = function() {
 
       aud.play();
        };
  

};



function timeFunction(){

document.getElementById("demo3").innerHTML ="";

var t= document.getElementById("time").value;
document.getElementById("demo4").innerHTML = "Recitation is set to end in " + t + " minute(s).  ";


};



function timeStart(){

var t= document.getElementById("time").value;


if(t>0){
   aud.play();
};
  var c=0;

    aud.onended = function() {
       c=c+1;
       aud.play();
     document.getElementById("demo5").innerHTML = 'Count : ' + (1+c) ;

        };


q = t*60

var timeleft = q;

var downloadTimer = setInterval(function(){
  if(timeleft <= 0){

  } else {
  
  }
  timeleft -= 1;
}, 1000);



};




function continuePlay(){
   var t= document.getElementById("time").value;
 if(t>0){
   aud.play();
   
 };

   var x= document.getElementById("times").value;
 if(x>0){
   aud.play();
 }


};




var t= document.getElementById("time").value;
q = t*60

var Seconds = q;

var myVar = "";

function startTimer() { 
    timeStart();
    myVar = setInterval(start ,1000);
    Seconds = q;
}


function resumeTimer() {    
    continuePlay();
    myVar = setInterval(start ,1000);
}

function start() {
    var t = document.getElementById("time").value;
    Seconds--;
    document.getElementById("secondsPassed").innerHTML = "Time Left (secs.) : " + Seconds;
if(Seconds<=0){
   stopTimer();
   document.getElementById("secondsPassed").innerHTML = t + " minute(s) reached";
  }else{
	}
}

function stopTimer() {
    aud.pause();
    clearInterval(myVar)

}







function myToggle(){

  var u = document.getElementById("toggle");
  if (u.style.display === "block") {
    u.style.display = "none";
    document.getElementById("btnToggle").innerHTML="Loop";
    aud.pause();
  } else {
    u.style.display = "block";
    document.getElementById("btnToggle").innerHTML="Pause";
    playlistloop();
  }

}



function myToggleV(){

  var v = document.getElementById("toggleV");
  if (v.style.display === "block") {

    v.style.display = "none";
    document.getElementById("btnToggleV").innerHTML="Pause";
    continuePlay();

  } else {

    aud.pause();
    document.getElementById("btnToggleV").innerHTML="Resume";
    v.style.display = "block";

  }

}



function myToggleU(){

  var u = document.getElementById("toggleU");
  if (u.style.display === "block") {

    u.style.display = "none";
    document.getElementById("btnToggleU").innerHTML="Pause";
    resumeTimer();

  } else {

    stopTimer();
    document.getElementById("btnToggleU").innerHTML="Resume";
    u.style.display = "block";

  }

}






</script>

</body>
</html>
